(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{184:function(e,t,n){"use strict";n.r(t);var o=n(10),i=n.n(o),r=n(4),l=n.n(r),s=n(0),c=n.n(s),a=n(261),d=n(255),u=n(180),f=n(15),h=n(2),j=n(24),g=n(6),b=f.default.get("window").width,m=f.default.get("window").height,O=g.default.create({homeContainer:{width:b>1e3?1e3:b,paddingLeft:b>1e3?"auto":5,paddingRight:b>1e3?"auto":5,paddingTop:5,height:m-100,marginTop:10,marginLeft:"auto",marginRight:"auto",borderColor:"green",borderWidth:3,minHeight:m-100,height:"auto"},homeCategories:{flexDirection:"row",borderColor:"violet",borderWidth:2,justifyContent:"space-around",marginTop:10},homeCategory:{flexDirection:"column",justifyContent:"center",alignItems:"center",width:.2*b,maxWidth:200,height:.1*b,maxHeight:200,borderColor:"lightblue",borderWidth:1,borderRadius:10},homeCategoryChosen:{flexDirection:"column",justifyContent:"center",alignItems:"center",borderWidth:2,borderRadius:8,width:.2*b,height:.1*b,borderColor:"orange"},homeSingleItemCategory:{width:.2*b,maxWidth:200,height:.2*b,maxHeight:200,borderColor:"lightblue",borderWidth:1,borderRadius:10},homeSingleItemCategoryChosen:{borderWidth:2,borderRadius:8,width:.2*b,height:.2*b,borderColor:"orange"},homeFoodListCover:{marginTop:10},homeFoodList:{flexDirection:"row",flexWrap:"wrap",borderWidth:2,borderColor:"Crimson",justifyContent:"center"},dishContainer:{borderColor:"green",borderWidth:1,width:.32*b,height:"fit-content",paddingLeft:b>1e3?"2.5%":.033*b,paddingRight:b>1e3?"2.5%":.033*b,maxWidth:240,flexDirection:"column",flexGrow:1,marginBottom:20},dishName:{borderWidth:1,borderColor:"chartreuse",overflow:"hidden",wordWrap:"break-word",hyphens:"auto",width:"100%",height:18,fontSize:14},dishImageContainer:{width:"100%",height:b>1e3?.07*b:.25*b},DishImage:{flexGrow:1,borderRadius:10,borderColor:"red",borderWidth:1,borderRadius:10,marginRight:10,resizeMode:"stretch",minHeight:50,width:"100%",height:"100%"},dishInfo:{borderColor:"red",borderWidth:1},dishInfoHide:{borderWidth:1,borderColor:"yellowBlanchedAlmond",height:b>1e3?.04*b:.15*b,overflow:"hidden",wordWrap:"break-word",textOverflow:"ellipsis",hyphens:"auto"},dishInfoShow:{borderWidth:1,borderColor:"yellowBlanchedAlmond",minHeight:b>1e3?.04*b:.15*b},customBtn:{marginTop:8,alignSelf:"center",width:"70%",height:25,borderWidth:2,borderColor:"rgba(var(--b6a, 219, 219, 219), 1)"},customOrder:{width:"100%"},customName:{fontStyle:"italic",fontSize:"1.333333333333333em",color:"rgb(232, 230, 227)",fontWeight:"bold",wordWrap:"break-word"},customList:{},dealImageContainer:{width:b,height:.45*b},dealImage:{width:"100%",height:"100%",resizeMode:"stretch"}}),x=n(8),y=n.n(x),p=n(9),w=n.n(p),C=function(){function e(){y()(this,e)}return w()(e,null,[{key:"GetCategories",value:function(){return fetch("http://127.0.0.1:8000/get_categories",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()}))}},{key:"GetItemImages",value:function(e){return fetch("http://127.0.0.1:8000/item_images/"+e,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()}))}},{key:"GetDishItems",value:function(e){return fetch("http://127.0.0.1:8000/dish_items/"+e,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()}))}},{key:"GetDeals",value:function(){return fetch("http://127.0.0.1:8000/get_deals",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()}))}},{key:"Register",value:function(e){return fetch("http://127.0.0.1:8000/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw Error(e.statusText)}))}},{key:"CurrentUser",value:function(e){return fetch("http://127.0.0.1:8000/current_user",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+e}}).then((function(e){return e.json()}))}},{key:"Order",value:function(e,t){return fetch("http://127.0.0.1:8000/order",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Token "+e.kfc},body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw Error(e.statusText);console.log("Success")}))}},{key:"GetOrderHistory",value:function(e){return fetch("http://127.0.0.1:8000/order",{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+e.kfc}}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()}))}},{key:"G",value:function(e){return fetch("http://127.0.0.1:8000/"+e,{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()}))}},{key:"GWT",value:function(e,t){return fetch("http://127.0.0.1:8000/"+e,{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Token "+t.kfc}}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()}))}},{key:"P",value:function(e,t){return fetch("http://127.0.0.1:8000/"+e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(!e.ok)throw Error(e.statusText);return e.json()}))}}]),e}(),S=n(13),v=n(3),T=n(1),I=function(e){var t=e.category,n=e.setShowSingleItems,o=e.categoryChosen,i=e.setCategoryChosen;return Object(T.jsx)(S.default,{onPress:function(){i(t.id),n(!1)},style:o===t.id?O.homeCategoryChosen:O.homeCategory,children:Object(T.jsx)(v.default,{children:t.field.replace("combo-","").toUpperCase()})})},k=n(26),D=function(e){var t=e.singleItemCategory,n=e.categoryChosen,o=e.setCategoryChosen;return Object(T.jsx)(S.default,{onPress:function(){o(t.id)},children:Object(T.jsx)(k.default,{source:{uri:"http://127.0.0.1:8000/media/"+t.image},style:t.id===n?O.homeSingleItemCategoryChosen:O.homeSingleItemCategory})})},E=function(e){var t=e.categories,n=e.categoryChosen,o=e.setCategoryChosen;return Object(T.jsx)(h.default,{style:O.homeCategories,children:t.filter((function(e){return function(e){if(!0===Boolean(e.field.startsWith("singleItems-")))return e}(e)})).map((function(e){return Object(T.jsx)(D,{singleItemCategory:e,categoryChosen:n,setCategoryChosen:o},e.id)}))})},W=n(252),R=n(14),P=n.n(R),z=n(251),B=n(263),A=n(27),N=function(e){var t,n,o,i=Object(A.useNavigation)(),r=e.categoryDish,c=Object(B.default)(["kfc"]),a=l()(c,3),d=(a[0],a[1],a[2],Object(s.useState)([])),u=l()(d,2),f=u[0],j=u[1],g=Object(s.useState)({}),b=l()(g,2),m=b[0],x=b[1],y=Object(s.useState)(!1),p=l()(y,2),w=p[0],I=p[1],D=Object(s.useState)(!1),E=l()(D,2),W=E[0],R=E[1],N=Object(s.useState)(!0),H=l()(N,2),G=H[0],F=H[1];function L(e){var t="";try{for(var n=0;n<e.length;n+=1)t+="/"+e[n].name}finally{return"/"==t[0]?t.substr(1,t.length):t}}function V(){i.navigate("Custom",{images:f,categoryDish:r,dishItems:m})}return Object(s.useEffect)((function(){I(!0),console.log("categoryDish",r),function(e){["singleItems-desserts-drinks","singleItems-snacks"].includes(e.category__field)&&R(!0)}(r),C.GetItemImages(r.id).then((function(e){j(e),console.log("images",e)})),C.GetDishItems(r.id).then((function(e){console.log("dishItems:",e),x(e)})).finally((function(){I(!1)}))}),[]),w?Object(T.jsx)(h.default,{style:O.homeFoodContainer,children:Object(T.jsx)(v.default,{children:"Data is loading..."})}):Object(T.jsxs)(h.default,{style:O.dishContainer,children:[Object(T.jsx)(S.default,{style:O.dishImageContainer,onPress:V,children:Object(T.jsx)(k.default,{style:O.DishImage,source:{uri:"http://127.0.0.1:8000/media/"+(void 0===f||0==f.length?"":f[0].image)}})}),Object(T.jsxs)(h.default,{children:[Object(T.jsx)(v.default,{numberOfLines:1,style:O.dishName,children:r.name}),Object(T.jsx)(v.default,{children:r.price})]}),Object(T.jsxs)(h.default,{style:G?O.dishInfo:[O.dishInfo,{height:"fit-content"}],children:[W||Object(T.jsxs)(h.default,{style:G?O.dishInfoHide:O.dishInfoShow,children:[null==(t=m.selections)?void 0:t.filter((function(e){return"singleItems-desserts-drinks"!=e.default.category__field})).map((function(e,t){return Object(T.jsx)(v.default,{children:L(e.choices)},t)})),null==(n=m.singleItems)?void 0:n.map((function(e,t){return Object(T.jsx)(v.default,{children:e.name},t)})),null==(o=m.selections)?void 0:o.filter((function(e){return"singleItems-desserts-drinks"==e.default.category__field})).map((function(e,t){return Object(T.jsx)(v.default,{children:e.default.name},t)}))]}),Object(T.jsx)(S.default,{style:{alignSelf:"center"},onPress:function(){return F(!G)},children:Object(T.jsx)(z.default,{name:"keyboard-arrow-down",size:24,color:"black",style:G?{transform:"rotate(0deg)",transitionDuration:"500ms"}:{transform:"rotate(180deg)",transitionDuration:"500ms"}})}),Object(T.jsx)(S.default,{style:O.customBtn,onPress:V,children:Object(T.jsx)(v.default,{style:{color:"green",textAlign:"center"},children:"Cumtom"})}),Object(T.jsx)(S.default,{style:O.customBtn,onPress:function(){var e;try{var t,n=null==(t=m.selections)?void 0:t.map((function(e){return e.default})),o=m.singleItems;e=[].concat(P()(n),P()(o))}finally{i.navigate("Cart",{dish:{id:Date.now(),categoryDish:r,itemsChosen:e,dishItems:m,images:f,price:r.price,amount:1}})}},children:Object(T.jsx)(v.default,{style:{color:"green",textAlign:"center"},children:"Order"})})]})]})},H=(f.default.get("window").width>1e3||f.default.get("window").width,f.default.get("window").height,function(e){var t=e.categoryDishes;return Object(T.jsxs)(h.default,{style:O.homeFoodListCover,children:[Object(T.jsx)(W.default,{name:"downcircleo",size:24,color:"black",style:{marginLeft:"auto",marginRight:"auto"}}),Object(T.jsx)(h.default,{style:{marginTop:10},children:Object(T.jsx)(h.default,{style:O.homeFoodList,children:t.map((function(e){return Object(T.jsx)(N,{categoryDish:e},e.id)}))})})]})}),G=function(){var e=Object(s.useState)([]),t=l()(e,2),n=t[0],o=t[1],i=Object(s.useState)([]),r=l()(i,2),c=r[0],a=r[1],d=Object(s.useState)(0),u=l()(d,2),f=u[0],j=u[1],g=Object(s.useState)(!1),b=l()(g,2),m=b[0],x=b[1];return Object(s.useEffect)((function(){console.log("categories useEffect"),C.G("get_categories").then((function(e){o(e),function(e){new Promise((function(t,n){var o=e.find((function(e){return e.field.startsWith("combo-")}));o?t(o):n(Error("There are no combo categoreis"))})).then((function(e){console.log("It worked!",e.id),j(e.id)})).catch((function(e){console.log("It failed!",e)})),console.log()}(e)}))}),[]),Object(s.useEffect)((function(){var e;console.log("categories useEffect1"),0!==f&&(e=f,C.G("category_items/"+e).then((function(e){a(e)})))}),[f]),Object(T.jsxs)(h.default,{style:{width:"100%",borderColor:"gray",borderWidth:1},children:[Object(T.jsxs)(h.default,{style:[O.homeCategories,{alignContent:"stretch"}],children:[n.filter((function(e){return function(e){if(!0===Boolean(e.field.startsWith("combo-")))return e}(e)})).map((function(e){return Object(T.jsx)(I,{category:e,setShowSingleItems:x,categoryChosen:f,setCategoryChosen:j},e.id)})),Object(T.jsx)(S.default,{onPress:function(){x(!0),new Promise((function(e,t){var o=n.find((function(e){return e.field.startsWith("singleItems-")}));o?e(o):t(Error("There are no combo categoreis"))})).then((function(e){console.log("It worked!",e.id),j(e.id)})).catch((function(e){console.log("It failed!",e)})),console.log()},style:m?O.homeCategoryChosen:O.homeCategory,children:Object(T.jsx)(v.default,{children:"SINGLE ITEMS"})})]}),m&&Object(T.jsx)(E,{categories:n,categoryChosen:f,setCategoryChosen:j}),Object(T.jsx)(H,{categoryDishes:c})]})},F=f.default.get("window").width>1e3?1e3:f.default.get("window").width,L=.4*F,V=g.default.create({container:{maxHheight:300,borderWidth:2,borderColor:"violet"},scroll:{height:"100%",maxHheight:300},imageContainer:{width:F,height:L},image:{width:"100%",height:"100%",resizeMode:"stretch"},pagination:{position:"absolute",bottom:0,flexDirection:"row",alignSelf:"center"},dots:{color:"white",margin:3,fontSize:F/30},dotActive:{color:"green",margin:3,fontSize:F/30}}),_=function(e){var t=e.deals,n=Object(A.useNavigation)(),o=Object(s.useState)(0),i=l()(o,2),r=i[0],c=i[1],a=Object(s.useRef)(),d=null;function u(){r===t.length-1?a.current.scrollTo({x:0,animated:!0}):a.current.scrollTo({x:F*(r+1),animated:!0})}return Object(s.useEffect)((function(){return d=setTimeout(u,2e3),function(){return clearTimeout(d)}})),Object(T.jsxs)(h.default,{style:V.container,children:[Object(T.jsx)(j.default,{ref:a,style:V.scroll,pagingEnabled:!0,horizontal:!0,showsHorizontalScrollIndicator:!1,onScroll:function(e){var t=Math.round(e.nativeEvent.contentOffset.x/F);r!==t&&c(t)},scrollEventThrottle:F,onScrollBeginDrag:function(){clearTimeout(d)},onScrollEndDrag:function(){d=setTimeout(d,5e3)},overScrollMode:"never",children:t.map((function(e){return Object(T.jsx)(S.default,{style:V.imageContainer,onPress:function(){return function(e){n.navigate("Deals",{deal:e})}(e)},children:Object(T.jsx)(k.default,{source:{uri:"http://127.0.0.1:8000/media/"+e.image},style:V.image})},e.id)}))}),Object(T.jsx)(h.default,{style:V.pagination,children:t.map((function(e,t){return Object(T.jsx)(v.default,{style:t===r?V.dotActive:V.dots,children:"\u2b24"},t)}))})]})},M=(f.default.get("window").width>1e3||f.default.get("window").width,f.default.get("window").height,c.a.createContext()),U=function(e){var t=e.navigation,n=Object(s.useState)([]),o=l()(n,2),i=o[0],r=o[1];return Object(s.useEffect)((function(){C.GetDeals().then((function(e){r(e),console.log("deals",e)}))}),[]),Object(T.jsx)(M.Provider,{value:{},children:Object(T.jsxs)(j.default,{style:O.homeContainer,showsVerticalScrollIndicator:!1,children:[Object(T.jsx)(h.default,{children:Object(T.jsx)(_,{deals:i})}),Object(T.jsx)(G,{navigation:t})]})})},J=function(e){e.navigation;var t=e.route.params.deal;return Object(s.useEffect)((function(){console.log("deal",t)}),[]),Object(T.jsxs)(j.default,{showsVerticalScrollIndicator:!1,children:[Object(T.jsx)(v.default,{children:t.title}),Object(T.jsx)(v.default,{children:t.description}),Object(T.jsx)(v.default,{children:t.hashtag}),Object(T.jsx)(h.default,{style:O.dealImageContainer,children:Object(T.jsx)(k.default,{style:O.dealImage,source:{uri:"http://127.0.0.1:8000/media/"+t.image}})})]})},K=function(){return Object(T.jsx)(v.default,{children:"ComboScre"})},Y=n(38),q=n(253),Z=function(e){var t=e.selection,n=e.choice,o=e.chosen,i=(e.setChosen,e.itemsChosen),r=e.setItemsChosen;function l(){console.log(n.selectionId);var e=JSON.parse(JSON.stringify(i)),t=null==e?void 0:e.filter((function(e){return e.selectionId!=n.selectionId})),o=null==e?void 0:e.filter((function(e){return e.selectionId==n.selectionId}));try{console.log("otherSelections",t),console.log("changedSelection",o),o.shift(),o.push(n)}finally{console.log("newItemsChosen",e),r([].concat(P()(t),P()(o)))}}return Object(T.jsx)(h.default,{style:O.dishContainer,children:n.image__image?Object(T.jsxs)(S.default,{onPress:l,children:[Object(T.jsx)(h.default,{style:O.dishImageContainer,children:Object(T.jsx)(k.default,{style:O.DishImage,source:"http://127.0.0.1:8000/media/"+n.image__image})}),Object(T.jsxs)(h.default,{children:[Object(T.jsx)(v.default,{numberOfLines:1,style:{width:"100%",maxHeight:18,fontSize:14},children:n.name}),Object(T.jsxs)(h.default,{style:{flexDirection:"row"},children:[o.includes(n.id)?Object(T.jsx)(q.default,{name:"check",size:24,color:"green"}):Object(T.jsx)(q.default,{name:"check",size:24,color:"black"}),t.default.id==n.id?Object(T.jsx)(v.default,{children:"Included"}):Object(T.jsx)(v.default,{children:n.price-t.default.price>0?"+"+(n.price-t.default.price)+"\u0111":"+0\u0111"})]}),1!=t.default.amount&&Object(T.jsxs)(h.default,{style:{flexDirection:"row"},children:[Object(T.jsx)(S.default,{onPress:function(){console.log(n.selectionId);var e=JSON.parse(JSON.stringify(i));if(n.id!=t.default.id&&n.selectionId==t.default.selectionId){var o=null==e?void 0:e.find((function(e){return JSON.stringify(e)==JSON.stringify(n)}));console.log("choice",n);var l=e.indexOf(o);try{e.splice(l,1),e.push(t.default)}finally{console.log("newItemsChosen",e),r(P()(e))}}},children:Object(T.jsx)(v.default,{children:"\u2296"})}),Object(T.jsx)(v.default,{style:{marginLeft:5,marginRight:5},children:(null==o?void 0:o.filter((function(e){return e==n.id}))).length}),Object(T.jsx)(S.default,{onPress:l,children:Object(T.jsx)(v.default,{children:"\u2295"})})]})]})]}):Object(T.jsxs)(S.default,{onPress:l,style:{flexDirection:"row"},children:[o.includes(n.id)?Object(T.jsx)(q.default,{name:"check",size:24,color:"green"}):Object(T.jsx)(q.default,{name:"check",size:24,color:"black"}),Object(T.jsx)(v.default,{numberOfLines:3,children:n.name})]})})},X=function(e){var t,n=e.selection,o=e.itemsChosen,i=e.setItemsChosen,r=Object(s.useState)([]),c=l()(r,2),a=c[0],d=c[1];return Object(s.useEffect)((function(){var e=null==o?void 0:o.filter((function(e){return e.selectionId==n.default.selectionId})).map((function(e){return e.id}));d(e),console.log("chosen",e)}),[o]),Object(T.jsx)(h.default,{style:{flexDirection:"row",flexWrap:"wrap"},children:null==(t=n.choices)?void 0:t.map((function(e){return Object(T.jsx)(Z,{selection:n,choice:e,chosen:a,setChosen:d,itemsChosen:o,setItemsChosen:i},e.id)}))})},Q=f.default.get("window").width>1e3?1e3:f.default.get("window").width,$=.4*Q,ee=g.default.create({container:{maxHheight:300,borderWidth:2,borderColor:"violet"},scroll:{height:"100%",maxHheight:300},imageContainer:{width:Q,height:$},image:{width:"100%",height:"100%",resizeMode:"stretch"},pagination:{position:"absolute",bottom:0,flexDirection:"row",alignSelf:"center"},dots:{color:"white",margin:3,fontSize:Q/30},dotActive:{color:"green",margin:3,fontSize:Q/30}}),te=function(e){var t=e.imageArray,n=Object(s.useState)(0),o=l()(n,2),i=o[0],r=o[1],c=Object(s.useRef)(),a=null;function d(){i===t.length-1?c.current.scrollTo({x:0,animated:!0}):c.current.scrollTo({x:Q*(i+1),animated:!0})}return Object(s.useEffect)((function(){return a=setTimeout(d,2e3),function(){return clearTimeout(a)}})),Object(T.jsxs)(h.default,{style:ee.container,children:[Object(T.jsx)(j.default,{ref:c,style:ee.scroll,pagingEnabled:!0,horizontal:!0,showsHorizontalScrollIndicator:!1,onScroll:function(e){var t=Math.round(e.nativeEvent.contentOffset.x/Q);i!==t&&r(t)},scrollEventThrottle:Q,onScrollBeginDrag:function(){clearTimeout(a)},onScrollEndDrag:function(){a=setTimeout(a,5e3)},overScrollMode:"never",children:null==t?void 0:t.map((function(e,t){return Object(T.jsx)(h.default,{style:ee.imageContainer,children:Object(T.jsx)(k.default,{source:{uri:e},style:ee.image})},t)}))}),Object(T.jsx)(h.default,{style:ee.pagination,children:null==t?void 0:t.map((function(e,t){return Object(T.jsx)(v.default,{style:t===i?ee.dotActive:ee.dots,children:"\u2b24"},t)}))})]})},ne=(f.default.get("window").width>1e3||f.default.get("window").width,f.default.get("window").height,c.a.createContext()),oe=function(e){var t,n,o,i=e.navigation,r=e.route.params,c=r.images,a=r.categoryDish,d=r.dishItems,u=Object(s.useState)([]),f=l()(u,2),g=f[0],b=f[1],m=Object(s.useState)(1),x=l()(m,2),y=x[0],p=x[1],w=Object(s.useState)([]),C=l()(w,2),I=C[0],k=C[1],D=Object(s.useState)(0),E=l()(D,2),W=E[0],R=E[1],z=Object(B.default)(["kfc"]),A=l()(z,2);A[0],A[1];return Object(s.useEffect)((function(){var e=c.map((function(e){return"http://127.0.0.1:8000/media/"+e.image}));b(e),console.log("singleItems",d.singleItems)}),[c]),Object(s.useEffect)((function(){var e,t=null==(e=d.selections)?void 0:e.map((function(e){return e.default})),n=d.singleItems;console.log("singleItemDefault",n);try{var o=null==t?void 0:t.find((function(e){return e.amount>1}));if(void 0!==o)for(var i=0;i<o.amount-1;i+=1)t.push(o)}finally{console.log("selectionsDefault",t),k([].concat(P()(t.sort()),P()(n)))}}),[d]),Object(s.useEffect)((function(){var e=null==a?void 0:a.price;try{null==I||I.map((function(t){Object.keys(t).includes("due")&&(e+=t.due)}))}finally{R(e)}}),[I,a]),Object(T.jsxs)(ne.Provider,{value:{setItemsChosen:k,itemsChosen:I},children:[console.log("itemsChosen",I),Object(T.jsxs)(j.default,{style:O.homeContainer,showsVerticalScrollIndicator:!1,children:[Object(T.jsxs)(h.default,{style:O.orderTotal,children:[Object(T.jsx)(te,{imageArray:g}),Object(T.jsxs)(h.default,{children:[Object(T.jsxs)(v.default,{style:O.customName,children:[y,"X ",a.name.toUpperCase()]}),Object(T.jsx)(h.default,{children:I.map((function(e,t){return Object(T.jsxs)(h.default,{style:{flexDirection:"row"},children:[Object(T.jsxs)(v.default,{style:{flexGrow:1},children:["\u30fb",e.name]}),Object(T.jsxs)(v.default,{children:["+",e.due||0," \u0111"]})]},t)}))}),Object(T.jsxs)(h.default,{style:{flexDirection:"row"},children:[Object(T.jsxs)(h.default,{style:{flexDirection:"row",flexGrow:1},children:[Object(T.jsx)(S.default,{onPress:function(){y>1&&p(y-1)},children:Object(T.jsx)(v.default,{style:{transform:"scale(1.5)"},children:"\u2296"})}),Object(T.jsx)(Y.default,{value:y,onChangeText:p,style:{width:30,fontSize:18,paddingLeft:5,paddingRight:5}}),Object(T.jsx)(S.default,{onPress:function(){p(y+1)},children:Object(T.jsx)(v.default,{style:{transform:"scale(1.5)"},children:"\u2295"})})]}),Object(T.jsx)(v.default,{style:{fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600,alignSelf:"center"},children:y*W})]})]}),Object(T.jsxs)(h.default,{children:[Object(T.jsxs)(h.default,{style:{flexDirection:"row",paddingTop:10},children:[Object(T.jsx)(v.default,{style:{flexGrow:1,fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600},children:"ORDER TOTAL"}),Object(T.jsx)(v.default,{style:{fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600,color:"red"},children:y*W})]}),Object(T.jsxs)(h.default,{children:[Object(T.jsx)(S.default,{style:O.customBtn,onPress:function(){i.goBack(),i.navigate("Cart",{dish:{id:Date.now(),categoryDish:a,itemsChosen:I,dishItems:d,images:c,price:W,amount:y}})},children:Object(T.jsx)(v.default,{style:{color:"green",textAlign:"center",borderRadius:5},children:"ADD TO CART"})}),Object(T.jsx)(S.default,{style:O.customBtn,onPress:function(){i.goBack()},children:Object(T.jsx)(v.default,{style:{color:"green",textAlign:"center",borderRadius:5},children:"BACK TO MENU"})})]})]})]}),Object(T.jsx)(h.default,{children:Object(T.jsxs)(h.default,{children:[Object(T.jsx)(v.default,{children:a.name}),null==(t=d.selections)?void 0:t.map((function(e,t){if("singleItems-desserts-drinks"!==e.default.category__field)return Object(T.jsxs)(h.default,{children:[Object(T.jsx)(v.default,{children:"SELECT 1 IN OPTIONS BELOW"}),Object(T.jsx)(X,{selection:e,itemsChosen:I,setItemsChosen:k})]},t)})),null==(n=d.singleItems)?void 0:n.map((function(e){return Object(T.jsxs)(h.default,{style:{flexDirection:"row"},children:[Object(T.jsx)(q.default,{name:"check",size:24,color:"green"}),Object(T.jsx)(v.default,{children:e.name})]},e.id)})),Object(T.jsxs)(h.default,{children:[Object(T.jsx)(v.default,{children:"UP SIZE DESSERTS DRINKS"}),null==(o=d.selections)?void 0:o.map((function(e,t){if("singleItems-desserts-drinks"===e.default.category__field)return Object(T.jsx)(X,{selection:e,itemsChosen:I,setItemsChosen:k},t)}))]})]})})]})]})},ie=(f.default.get("window").width>1e3||f.default.get("window").width,f.default.get("window").height,c.a.createContext()),re=function(e){var t,n,o,i=e.navigation,r=e.route.params.order,c=Object(s.useState)([]),a=l()(c,2),d=a[0],u=a[1],f=Object(s.useState)(1),g=l()(f,2),b=g[0],m=g[1],x=Object(s.useState)([]),y=l()(x,2),p=y[0],w=y[1],C=Object(s.useState)(0),I=l()(C,2),k=I[0],D=I[1];return Object(s.useEffect)((function(){var e=r.images.map((function(e){return"http://127.0.0.1:8000/media/"+e.image}));u(e),console.log("singleItems",r.dishItems.singleItems),w(r.itemsChosen),D(r.price),m(r.amount)}),[r]),Object(s.useEffect)((function(){var e=null==r?void 0:r.categoryDish.price;try{null==p||p.map((function(t){Object.keys(t).includes("due")&&(e+=t.due)}))}finally{D(e)}}),[p,r]),null==r?Object(T.jsx)(h.default,{children:Object(T.jsx)(v.default,{children:"Loading..."})}):Object(T.jsxs)(ie.Provider,{value:{setItemsChosen:w,itemsChosen:p},children:[console.log("itemsChosen",p),Object(T.jsxs)(j.default,{style:O.homeContainer,showsVerticalScrollIndicator:!1,children:[Object(T.jsxs)(h.default,{style:O.orderAmount,children:[Object(T.jsx)(te,{imageArray:d}),Object(T.jsxs)(h.default,{children:[Object(T.jsxs)(v.default,{style:O.customName,children:[b,"X ",r.categoryDish.name.toUpperCase()]}),Object(T.jsx)(h.default,{children:p.map((function(e,t){return Object(T.jsxs)(h.default,{style:{flexDirection:"row"},children:[Object(T.jsxs)(v.default,{style:{flexGrow:1},children:["\u30fb",e.name]}),Object(T.jsxs)(v.default,{children:["+",e.due||0]})]},t)}))}),Object(T.jsxs)(h.default,{style:{flexDirection:"row"},children:[Object(T.jsxs)(h.default,{style:{flexDirection:"row",flexGrow:1},children:[Object(T.jsx)(S.default,{onPress:function(){b>1&&m(b-1)},children:Object(T.jsx)(v.default,{style:{transform:"scale(1.5)"},children:"\u2296"})}),Object(T.jsx)(Y.default,{value:b,onChangeText:m,style:{width:30,fontSize:18,paddingLeft:5,paddingRight:5}}),Object(T.jsx)(S.default,{onPress:function(){m(b+1)},children:Object(T.jsx)(v.default,{style:{transform:"scale(1.5)"},children:"\u2295"})})]}),Object(T.jsx)(v.default,{style:{fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600,alignSelf:"center"},children:b*k})]})]}),Object(T.jsxs)(h.default,{children:[Object(T.jsxs)(h.default,{style:{flexDirection:"row",paddingTop:10},children:[Object(T.jsx)(v.default,{style:{flexGrow:1,fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600},children:"ORDER TOTAL"}),Object(T.jsx)(v.default,{style:{fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600,color:"red"},children:b*k})]}),Object(T.jsxs)(h.default,{children:[Object(T.jsxs)(h.default,{children:[Object(T.jsx)(S.default,{style:O.customBtn,onPress:function(){i.goBack(),i.navigate("Cart",{dish:{id:r.id,categoryDish:r.categoryDish,itemsChosen:p,dishItems:r.dishItems,images:r.images,price:k,amount:b}})},children:Object(T.jsx)(v.default,{style:{color:"green",textAlign:"center"},children:"UPDATE CART"})}),Object(T.jsx)(S.default,{style:O.customBtn,onPress:function(){i.navigate("Home")},children:Object(T.jsx)(v.default,{style:{color:"green",textAlign:"center"},children:"ADD MORE COMBO"})})]}),Object(T.jsx)(S.default,{style:O.customBtn,onPress:function(){i.goBack()},children:Object(T.jsx)(v.default,{style:{color:"green",textAlign:"center"},children:"BACK TO CART"})})]})]})]}),Object(T.jsxs)(h.default,{children:[Object(T.jsxs)(h.default,{children:[Object(T.jsx)(v.default,{children:r.categoryDish.name}),null==(t=r.dishItems.selections)?void 0:t.map((function(e,t){if("singleItems-desserts-drinks"!==e.default.category__field)return Object(T.jsxs)(h.default,{children:[Object(T.jsx)(v.default,{children:"SELECT 1 IN OPTIONS BELOW"}),Object(T.jsx)(X,{selection:e,itemsChosen:p,setItemsChosen:w})]},t)})),null==(n=r.dishItems.singleItems)?void 0:n.map((function(e,t){return Object(T.jsxs)(h.default,{children:[Object(T.jsx)(q.default,{name:"check",size:24,color:"green"}),Object(T.jsx)(v.default,{children:e.name})]},e.id)})),Object(T.jsxs)(h.default,{children:[Object(T.jsx)(v.default,{children:"UP SIZE DESSERTS DRINKS"}),null==(o=r.dishItems.selections)?void 0:o.map((function(e,t){if("singleItems-desserts-drinks"===e.default.category__field)return Object(T.jsx)(X,{selection:e,itemsChosen:p,setItemsChosen:w},t)}))]})]}),Object(T.jsx)(h.default,{})]})]})]})},le=n(254),se=(f.default.get("window").width,f.default.get("window").height,Object(le.default)());var ce=function(){return Object(T.jsxs)(se.Navigator,{children:[Object(T.jsx)(se.Screen,{name:"Home",component:U}),Object(T.jsx)(se.Screen,{name:"Deals",component:J}),Object(T.jsx)(se.Screen,{name:"Combo",component:K}),Object(T.jsx)(se.Screen,{name:"Custom",component:oe}),Object(T.jsx)(se.Screen,{name:"EditCart",component:re})]})},ae=(c.a.createContext(),function(e){var t=e.modalVisible,n=e.setModalVisible,o=e.navigation,i=(e.route,e.user),r=e.setUser,c=(e.showHistory,e.setShowHistory,Object(B.default)(["kfc"])),a=l()(c,3),d=a[0],u=a[1],f=a[2],g=Object(s.useState)(""),b=l()(g,2),m=b[0],x=b[1],y=Object(s.useState)(""),p=l()(y,2),w=p[0],I=p[1],k=Object(s.useState)(!1),D=l()(k,2),E=D[0],W=D[1];Object(s.useEffect)((function(){console.log("cookie:",d.kfc)}),[d]);var R=function(e){console.log("login run"),e.preventDefault(),C.P("auth/",{username:m,password:w}).then((function(e){console.log("token:",e),u("kfc",e.token),u("username",m),n(!1),n(!1),C.CurrentUser(e.token).then((function(e){r(e),console.log("User:",e),Object.keys(e).includes("detail")||(n(!1),console.log("Already login"))}))}))};function P(){W(!E)}return t?Object(T.jsx)(j.default,{style:O.homeContainer,showsVerticalScrollIndicator:!1,children:Object(T.jsxs)(h.default,{children:[Object(T.jsx)(Y.default,{placeholder:"Username",value:m,onChangeText:x,style:{width:de,minHeight:50,marginBottom:5,backgroundColor:"#d0d5db"}}),Object(T.jsx)(Y.default,{secureTextEntry:!0,placeholder:"Password",value:w,onChangeText:I,style:{width:de,minHeight:50,marginBottom:5,backgroundColor:"#d0d5db"}}),E?Object(T.jsx)(S.default,{onPress:function(e){e.preventDefault(),console.log("register run: "+m+", "+w),C.Register({username:m,password:w}).then((function(){return e})).then((function(t){console.log(e),R(t)}))},style:{width:"50%",backgroundColor:"chartreuse",fontWeight:"bold",textTransform:"uppercase",textAlign:"center",paddingBottom:10,paddingTop:10,borderRadius:6},children:Object(T.jsx)(v.default,{style:{fontSize:16,fontWeight:500},children:"Register"})}):Object(T.jsx)(S.default,{onPress:R,style:{width:"50%",backgroundColor:"chartreuse",fontWeight:"bold",textTransform:"uppercase",textAlign:"center",paddingBottom:10,paddingTop:10,borderRadius:6},children:Object(T.jsx)(v.default,{style:{fontSize:16,fontWeight:500},children:"Login"})}),E?Object(T.jsx)(S.default,{onPress:P,style:{paddingTop:15},children:Object(T.jsx)(v.default,{style:{fontSize:16,fontWeight:500},children:"Already have an account? Sign in"})}):Object(T.jsx)(S.default,{onPress:P,style:{paddingTop:15},children:Object(T.jsx)(v.default,{style:{fontSize:16,fontWeight:500},children:"Don't have an account? Sign up"})})]})}):Object(T.jsxs)(j.default,{style:O.homeContainer,showsVerticalScrollIndicator:!1,children:[Object(T.jsxs)(h.default,{children:[Object(T.jsx)(v.default,{children:"Username:"}),Object(T.jsx)(v.default,{children:i.username})]}),Object(T.jsxs)(h.default,{children:[Object(T.jsx)(v.default,{children:"Email:"}),Object(T.jsx)(v.default,{children:i.email})]}),Object(T.jsx)(S.default,{onPress:function(){o.navigate("Cart")},children:Object(T.jsx)(v.default,{children:"Transaction History"})}),Object(T.jsx)(S.default,{onPress:function(){f("kfc"),f("username"),n(!0)},style:{width:"50%",backgroundColor:"chartreuse",fontWeight:"bold",textTransform:"uppercase",textAlign:"center",paddingBottom:10,paddingTop:10,borderRadius:6,marginTop:5},children:Object(T.jsx)(v.default,{style:{fontSize:16,fontWeight:500},children:"Logout"})})]})}),de=f.default.get("window").width,ue=(f.default.get("window").height,g.default.create({centeredView:{},modalView:{backgroundColor:"white",borderRadius:20,height:"100%",alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:20},shadowOpacity:.25,shadowRadius:4,elevation:5},button:{width:"95%",borderRadius:5,padding:10,elevation:2},buttonOpen:{backgroundColor:"#F194FF"},buttonClose:{backgroundColor:"#2196F3"},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},modalText:{flexDirection:"row",alignItems:"center",marginBottom:15,borderBottomColor:"gray",borderBottomWidth:1,width:"100%",paddingTop:20,paddingLeft:7,paddingRight:7},modalInnerText:{fontWeight:"bold",fontSize:14,flexGrow:1,textAlign:"left"},modalChoosingText:{color:"green",fontWeight:"bold",fontSize:14}}),n(69)),fe=function(e){var t,n,o=e.order,i=void 0===o?{}:o,r=e.orders,c=void 0===r?[]:r,a=e.setOrders,d=Object(A.useNavigation)(),u=Object(s.useState)(1),f=l()(u,2),j=f[0],g=f[1],b=Object(s.useState)(0),m=l()(b,2),O=m[0],x=m[1];return Object(s.useEffect)((function(){g(i.amount),x(i.price)}),[i]),Object(s.useEffect)((function(){if(j!=i.amount){i.amount=j;var e=c.find((function(e){return e.id==i.id})),t=c.indexOf(e),n=JSON.parse(JSON.stringify(c));try{n.splice(t,1,i),console.log("order:",i)}finally{a(n)}}}),[j]),0==Object.keys(i).length?Object(T.jsx)(h.default,{children:Object(T.jsx)(v.default,{children:"There are nothing here"})}):Object(T.jsxs)(h.default,{style:{borderWidth:1,borderColor:"red"},children:[Object(T.jsxs)(h.default,{style:{flexDirection:"row"},children:[Object(T.jsx)(v.default,{style:{flexGrow:1,fontWeight:600,fontFamily:"National2Condensed",textTransform:"uppercase",marginBottom:"1rem",fontSize:26},children:null==i||null==(t=i.categoryDish)?void 0:t.name.toUpperCase()}),Object(T.jsxs)(h.default,{style:{flexDirection:"row"},children:[Object(T.jsx)(S.default,{onPress:function(){d.navigate("EditCart",{order:i})},children:Object(T.jsx)(z.default,{name:"edit",size:24,color:"black"})}),Object(T.jsx)(S.default,{onPress:function(){var e=c.filter((function(e){return e.id!=i.id}));a(e)},children:Object(T.jsx)(z.default,{name:"highlight-remove",size:24,color:"black"})})]})]}),Object(T.jsx)(h.default,{children:null==(n=i.itemsChosen)?void 0:n.map((function(e,t){return Object(T.jsxs)(v.default,{children:["\u30fb",e.name]},t)}))}),Object(T.jsxs)(h.default,{style:{flexDirection:"row"},children:[Object(T.jsxs)(h.default,{style:{flexDirection:"row",flexGrow:1},children:[Object(T.jsx)(S.default,{onPress:function(){j>1&&g(j-1)},children:Object(T.jsx)(v.default,{style:{transform:"scale(1.5)"},children:"\u2296"})}),Object(T.jsx)(Y.default,{style:{width:30,fontSize:18,paddingLeft:5,paddingRight:5},value:j,onChangeText:g}),Object(T.jsx)(S.default,{onPress:function(){g(j+1)},children:Object(T.jsx)(v.default,{style:{transform:"scale(1.5)"},children:"\u2295"})})]}),Object(T.jsx)(v.default,{style:{fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600,alignSelf:"center"},children:j*O})]})]})},he=f.default.get("window").width,je=f.default.get("window").height,ge=g.default.create({centeredView:{},modalView:{paddingLeft:he>1e3?(he-1e3)/2:5,paddingRight:he>1e3?(he-1e3)/2:5,height:je,width:"100%",backgroundColor:"white",borderRadius:20,flexDirection:"column",alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:20},shadowOpacity:.25,shadowRadius:4,elevation:5},button:{width:"95%",borderRadius:5,padding:10,elevation:2},buttonOpen:{backgroundColor:"#F194FF"},buttonClose:{backgroundColor:"#2196F3"},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},modalText:{flexDirection:"row",alignItems:"center",marginBottom:15,borderBottomColor:"gray",borderBottomWidth:1,width:"100%",paddingTop:20,paddingLeft:7,paddingRight:7},modalInnerText:{fontWeight:"bold",fontSize:14,flexGrow:1,textAlign:"left"},modalChoosingText:{color:"green",fontWeight:"bold",fontSize:14}}),be=function(e){var t=e.showHistory,n=e.setShowHistory,o=(e.modalVisible,Object(A.useNavigation)(),Object(B.default)(["kfc"])),i=l()(o,3),r=i[0],c=(i[1],i[2],Object(s.useState)([])),a=l()(c,2),d=a[0],u=a[1];function f(e){var t=0;try{null==e||e.map((function(e){return t+=e.price*e.amount}))}finally{return t}}return Object(s.useEffect)((function(){t&&C.GWT("order",r).then((function(e){u(e),console.log("allOrders:",e)}))}),[t]),0==d.length?Object(T.jsx)(ue.default,{animationType:"slide",transparent:!0,visible:t,onRequestClose:function(){n(!t)},children:Object(T.jsx)(h.default,{children:Object(T.jsxs)(j.default,{showsVerticalScrollIndicator:!1,style:O.homeContainer,children:[Object(T.jsx)(v.default,{children:"You have not ordered anything"}),Object(T.jsx)(S.default,{onPress:function(){n(!t)},style:{width:he/2,backgroundColor:"green",color:"rgb(232, 230, 227) !important",fontWeight:"bold",textTransform:"uppercase",textAlign:"center",paddingBottom:15,paddingTop:15,borderRadius:8,marginTop:20},children:Object(T.jsx)(v.default,{children:"Close Modal"})})]})})}):Object(T.jsx)(ue.default,{animationType:"slide",transparent:!0,visible:t,onRequestClose:function(){n(!t)},children:Object(T.jsxs)(h.default,{style:ge.modalView,children:[Object(T.jsx)(j.default,{showsVerticalScrollIndicator:!1,style:[O.homeContainer,{flexGrow:1}],children:null==d?void 0:d.map((function(e,t){return Object(T.jsxs)(h.default,{style:{borderColor:"red",borderBottomWidth:1,marginBottom:10,paddingBottom:20},children:[Object(T.jsx)(h.default,{children:e.orders.map((function(t){var n,o;return Object(T.jsxs)(h.default,{style:{paddingBottom:5},children:[Object(T.jsx)(v.default,{style:{flexGrow:1,fontWeight:600,fontFamily:"National2Condensed",textTransform:"uppercase",fontSize:26,marginBottom:10},children:null==t||null==(n=t.categoryDish)?void 0:n.name.toUpperCase()}),Object(T.jsx)(h.default,{children:null==(o=t.itemsChosen)?void 0:o.map((function(e,t){return Object(T.jsxs)(v.default,{children:["\u30fb",e.name]},t)}))}),Object(T.jsxs)(h.default,{style:{flexDirection:"row"},children:[Object(T.jsxs)(v.default,{style:{flexGrow:1},children:[e.orders.length," Items"]}),Object(T.jsx)(v.default,{children:t.amount*t.price})]})]},t.id)}))}),Object(T.jsxs)(h.default,{style:{flexDirection:"row",paddingTop:20},children:[Object(T.jsx)(v.default,{style:{flexGrow:1,fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600},children:"SUBTOTAL"}),Object(T.jsx)(v.default,{style:{fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600,color:"red"},children:f(e.orders)})]})]},t)}))}),Object(T.jsx)(S.default,{onPress:function(){n(!t)},style:{width:"100%",backgroundColor:"green",paddingBottom:15,paddingTop:15,borderRadius:8,marginTop:5,textAlign:"center"},children:Object(T.jsx)(v.default,{style:{color:"rgb(232, 230, 227) !important",fontWeight:"bold",textTransform:"uppercase"},children:"GO BACK"})})]})})},me=function(e){var t=e.modalVisible,n=(e.setModalVisible,e.navigation),o=e.route,i=e.showHistory,r=e.setShowHistory,c=o.params.dish,a=Object(B.default)(["kfc"]),d=l()(a,3),u=d[0],f=(d[1],d[2],Object(s.useState)("")),g=l()(f,2),b=(g[0],g[1],Object(s.useState)("")),m=l()(b,2),x=(m[0],m[1],Object(s.useState)(!1)),y=l()(x,2),p=(y[0],y[1],Object(s.useState)([])),w=l()(p,2),I=w[0],k=w[1],D=Object(s.useState)(""),E=l()(D,2),W=E[0],R=E[1],z=Object(s.useState)(""),A=l()(z,2),N=A[0],H=A[1];function G(){var e=0;try{null==I||I.map((function(t){return e+=t.price*t.amount}))}finally{return e}}return Object(s.useEffect)((function(){console.log("dish",c),console.log("cookie:",u.kfc)}),[u,c]),Object(s.useEffect)((function(){var e=I.find((function(e){return e.id==c.id}));if(void 0!=c)if(void 0===e)k([].concat(P()(I),[c]));else{var t=I.indexOf(e),n=JSON.parse(JSON.stringify(I));try{n.splice(t,1,c)}finally{k(n)}}}),[c]),Object(s.useEffect)((function(){console.log("orders:",I)}),[I]),t?Object(T.jsx)(j.default,{style:O.homeContainer,showsVerticalScrollIndicator:!1,children:Object(T.jsx)(S.default,{onPress:function(){n.navigate("Settings")},style:{width:"50%",backgroundColor:"chartreuse",fontWeight:"bold",textTransform:"uppercase",textAlign:"center",paddingBottom:10,paddingTop:10,borderRadius:6},children:Object(T.jsx)(v.default,{style:{fontSize:16,fontWeight:500},children:"LOGIN FIRST"})})}):0==I.length?Object(T.jsxs)(j.default,{style:O.homeContainer,showsVerticalScrollIndicator:!1,children:[Object(T.jsx)(be,{showHistory:i,setShowHistory:r}),Object(T.jsx)(v.default,{style:{},children:"Your Cart is empty?"}),Object(T.jsx)(v.default,{children:"Making order to enjoy KFC special secret recipes"}),Object(T.jsx)(S.default,{style:{width:"50%",backgroundColor:"green",color:"rgb(232, 230, 227) !important",fontWeight:"bold",textTransform:"uppercase",textAlign:"center",paddingBottom:15,paddingTop:15,borderRadius:8,marginTop:20},onPress:function(){n.navigate("Main")},children:Object(T.jsx)(v.default,{style:{color:"chartreuse"},children:"ORDER NOW"})}),Object(T.jsx)(S.default,{style:{width:"100%",backgroundColor:"green",color:"rgb(232, 230, 227) !important",fontWeight:"bold",textTransform:"uppercase",textAlign:"center",paddingBottom:15,paddingTop:15,borderRadius:8,position:"fixed",bottom:0},onPress:function(){r(!0)},children:Object(T.jsx)(v.default,{style:{color:"chartreuse"},children:"ORDER HISTORY"})})]}):Object(T.jsxs)(j.default,{style:O.homeContainer,showsVerticalScrollIndicator:!1,children:[Object(T.jsx)(ue.default,{animationType:"slide",transparent:!0,visible:i,onRequestClose:function(){r(!i)},children:Object(T.jsx)(be,{showHistory:i,setShowHistory:r})}),Object(T.jsx)(v.default,{style:{backgroundColor:"rgb(182, 0, 34)",color:"rgb(232, 230, 227) !important",fontWeight:"bold",textTransform:"uppercase",textAlign:"center",width:"100%",paddingBottom:15,paddingTop:15,borderRadius:8},children:"PROCEED TO PAYMENT"}),null==I?void 0:I.map((function(e){return Object(T.jsx)(fe,{order:e,orders:I,setOrders:k},e.id)})),Object(T.jsx)(Y.default,{style:{width:Oe,minHeight:50,marginBottom:20,backgroundColor:"#d0d5db"},placeholder:"Notes for your order",value:W,onChangeText:R}),Object(T.jsxs)(h.default,{style:{width:"100%"},children:[Object(T.jsxs)(h.default,{style:{flexDirection:"row"},children:[Object(T.jsxs)(v.default,{style:{flexGrow:1,fontWeight:600},children:[I.length," Items"]}),Object(T.jsx)(v.default,{style:{fontSize:20,fontFamily:"National2",lineHeight:1.5,fontWeight:600,alignSelf:"center"},children:G()})]}),Object(T.jsxs)(h.default,{style:{flexDirection:"row",paddingBottom:20,alignItems:"center"},children:[Object(T.jsx)(h.default,{style:{flexGrow:1,minHeight:50},children:Object(T.jsx)(Y.default,{style:{width:"100%",minHeight:50,backgroundColor:"#d0d5db"},value:N,onChangeText:H,placeholder:"Enter promotion code"})}),Object(T.jsx)(S.default,{style:{borderWidth:1,borderColor:"gray",height:50,alignSelf:"center",flexDirection:"column",justifyContent:"center"},children:Object(T.jsx)(v.default,{style:{padding:5,fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600},children:"APPLY CODE"})})]}),Object(T.jsxs)(h.default,{style:{flexDirection:"row",paddingBottom:20},children:[Object(T.jsx)(v.default,{style:{flexGrow:1,fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600},children:"SUBTOTAL"}),Object(T.jsx)(v.default,{style:{fontSize:18,fontFamily:"National2",lineHeight:1.5,fontWeight:600,color:"red"},children:G()})]}),Object(T.jsxs)(h.default,{style:{position:"fixed",bottom:0,width:"100%"},children:[Object(T.jsxs)(h.default,{style:{flexDirection:"row",justifyContent:"space-between"},children:[Object(T.jsx)(S.default,{onPress:function(){n.navigate("Main")},style:{width:"49%",paddingBottom:15,paddingTop:15,borderRadius:8,backgroundColor:"rgb(182, 0, 34)"},children:Object(T.jsx)(v.default,{style:{color:"rgb(232, 230, 227) !important",fontWeight:"bold",textTransform:"uppercase",textAlign:"center"},children:"CONTINUE ORDERING"})}),Object(T.jsx)(S.default,{onPress:function(){var e=null==I?void 0:I.map((function(e){return{order:e,promotion:N}})),t={orders:I,orderDetails:e};C.Order(u,{data:t}).then((function(){return k([])}))},style:{width:"49%",paddingBottom:15,paddingTop:15,borderRadius:8,backgroundColor:"rgb(182, 0, 34)"},children:Object(T.jsx)(v.default,{style:{color:"rgb(232, 230, 227) !important",fontWeight:"bold",textTransform:"uppercase",textAlign:"center"},children:"SEND ORDER"})})]}),Object(T.jsx)(S.default,{onPress:function(){r(!0)},children:Object(T.jsx)(v.default,{style:{backgroundColor:"green",color:"rgb(232, 230, 227) !important",fontWeight:"bold",textTransform:"uppercase",textAlign:"center",paddingBottom:15,paddingTop:15,borderRadius:8,marginTop:5},children:"ORDER HISTORY"})})]})]})]})},Oe=f.default.get("window").width,xe=(f.default.get("window").height,g.default.create({centeredView:{},modalView:{backgroundColor:"white",borderRadius:20,height:"100%",alignItems:"center",shadowColor:"#000",shadowOffset:{width:0,height:20},shadowOpacity:.25,shadowRadius:4,elevation:5},button:{width:"95%",borderRadius:5,padding:10,elevation:2},buttonOpen:{backgroundColor:"#F194FF"},buttonClose:{backgroundColor:"#2196F3"},textStyle:{color:"white",fontWeight:"bold",textAlign:"center"},modalText:{flexDirection:"row",alignItems:"center",marginBottom:15,borderBottomColor:"gray",borderBottomWidth:1,width:"100%",paddingTop:20,paddingLeft:7,paddingRight:7},modalInnerText:{fontWeight:"bold",fontSize:14,flexGrow:1,textAlign:"left"},modalChoosingText:{color:"green",fontWeight:"bold",fontSize:14}}),n(260)),ye=n(173);function pe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?pe(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Ce=Object(d.default)();t.default=function(){var e=Object(B.default)(["kfc"]),t=l()(e,3),n=t[0],o=(t[1],t[2],Object(s.useState)(!0)),i=l()(o,2),r=i[0],c=i[1],d=Object(s.useState)(!1),f=l()(d,2),h=f[0],j=f[1],g=Object(s.useState)([]),b=l()(g,2),m=b[0],O=b[1],x=Object(ye.default)(),y=x.height,p=x.width;return Object(s.useEffect)((function(){!function(){var e=function(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var i=n[o];" "==i.charAt(0);)i=i.substring(1);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return""}("kfc");C.CurrentUser(e).then((function(e){O(e),console.log("User:",e),Object.keys(e).includes("detail")||(c(!1),console.log("Already login"))}))}()}),[n]),Object(s.useEffect)((function(){console.log("CHANGE WINDOWS SIZE")}),[p,y]),Object(T.jsx)(xe.default,{children:Object(T.jsx)(a.default,{children:Object(T.jsxs)(Ce.Navigator,{initialRouteName:"Main",screenOptions:function(e){var t=e.route;return{tabBarIcon:function(e){var n,o=e.focused,i=e.color,r=e.size,l=t.name;return"Main"===l?n=o?"home":"home-outline":"Cart"===l?n=o?"cart":"cart-outline":"Settings"===l&&(n=o?"settings":"settings-outline"),Object(T.jsx)(u.default,{name:n,size:r,color:i})},headerShown:!1,headerStyle:{backgroundColor:"papayawhip"},labelStyle:{paddingBottom:10,fontSize:10},style:{padding:10,height:70}}},children:[Object(T.jsx)(Ce.Screen,{name:"Main",component:ce}),Object(T.jsx)(Ce.Screen,{name:"Cart",children:function(e){return Object(T.jsx)(me,we(we({},e),{},{modalVisible:r,setModalVisible:c,showHistory:h,setShowHistory:j}))},initialParams:{dish:void 0}}),Object(T.jsx)(Ce.Screen,{name:"Settings",children:function(e){return Object(T.jsx)(ae,we(we({},e),{},{modalVisible:r,setModalVisible:c,user:m,setUser:O,showHistory:h,setShowHistory:j}))}})]})})})}},192:function(e,t,n){e.exports=n(241)}},[[192,1,2]]]);
//# sourceMappingURL=app.491ceccf.chunk.js.map